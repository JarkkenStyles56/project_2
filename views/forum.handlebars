{{> navbar user}}

<div class="container">
    <div class="row">
        <div class="col-md">
            <div class="jumbotron">
                <h4 class="display-6 text-center">Welcome {{user.email}}!</h4>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md">

            <div id="forum-posts">
                {{#each posts}}
                <div class="forum-post-card card text-white bg-primary mb-3">
                    <div class="card-header">
                        <h4 class="text-white"><a href="/articles/{{id}}">{{title}}</a></h4>
                    </div>
                    <img src="{{image}}">
                    <div class="card-body">
                        <p class="card-text">{{body}}</p>
                        by {{'User.email'}}
                        @ {{createdAt}}
                    </div>
                </div>
                {{/each}}
            </div>
        </div>


    </div>

    <br>


    <fieldset>
        <legend>Create Your Own Post</legend>
        <p>
            Type in your post title and body below, and click submit to send it to our database. We will
            register it with your email address, and display it above with everyone else's posts!</p>
        </p>

        <h3>Select your content type</h3>
        <input type="radio" id="article" name="articleType" value="article">
        <label for="article">Article</label>

        <input type="radio" id="review" name="articleType" value="review">
        <label for="review">Review</label>

        <div id="hide" class="hide">
            <label for="cars">Choose a car:</label>

            <select name="cars" id="cars">
                <option value="volvo">Volvo</option>
                <option value="saab">Saab</option>
                <option value="mercedes">Mercedes</option>
                <option value="audi">Audi</option>
            </select>

        </div>

        <div class="form-group">
            <label for="title-input">Title</label>
            <input type="text" class="form-control" id="title-input" aria-describedby="postHelp"
                placeholder="Enter your post title">
            <small id="postHelp" class="form-text text-muted">This'l be shared!</small>
        </div>
        <div class="form-group">
            <label for="image-input">Image URL</label>
            <input type="text" class="form-control" id="image-input" aria-describedby="postHelp"
                placeholder="Enter your image url here!">
            <small id="postHelp" class="form-text text-muted">Make it shiny!</small>
        </div>
        <div class="form-group">
            <label for="body-input">Body</label>
            <textarea class="form-control" id="body-input" name="body" placeholder="Enter your post body"></textarea>
        </div>
        <button type="submit" id="submit" class="btn btn-primary">Post!</button>
    </fieldset>
    </form>
    <br />
</div>
</div>
</div>

<script>


    $(document).ready(function () {
        // Getting references to our form and inputs

        $("#review").on('change', function (event) {
            event.preventDefault();
            console.log("something changed")
            $("#hide").removeClass("hide")
        })

        $("#article").on('change', function (event) {
            event.preventDefault();
            console.log("something changed")
            $("#hide").addClass("hide");
        })

        $("#submit").click(function (event) {
            event.preventDefault();

            const postTitle = $("#title-input").val().trim();
            const postImg = $("#image-input").val().trim();
            const postBody = $("#body-input").val().trim();

            if (document.getElementById('article').checked) {
                console.log("article is checked")

                //create varaibles that would be true / false, and submit THESE 

                const articleyes = "true";
                const reviewno = "false";

                console.log(postBody);


            }

            if (document.getElementById('review').checked) {
                console.log("review is checked")

                const articleno = "false";
                const reviewyes = "true";


            }



        })







    });




</script>